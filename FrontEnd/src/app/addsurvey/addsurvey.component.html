<form  [formGroup]="myForm" style="padding-left:40%;" (ngSubmit)="onSubmit()" class="example-container">
  <div formGroupName="surveyData">
    <div class="form-group">
      <mat-form-field class="example-full-width">
        <input type="text"
        matInput
        placeholder="Survey title" 
        id="surveytitle"
        formControlName="surveytitle">
      </mat-form-field>
   </div>

   <div class="form-group">
    <mat-form-field>
      <input id="surveyStartDate" 
            formControlName="surveyStartDate" 
            matInput [matDatepicker]="picker1" 
            placeholder="Choose start date">
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>
  </div>


  <div class="form-group">
    <mat-form-field>
      <input id="surveyEndDate" 
            formControlName="surveyEndDate" 
            matInput [matDatepicker]="picker2" 
            placeholder="Choose end date">
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>
  </div>
  
  </div>
 

 <div formArrayName="questions">

   

    <div class="form-group"
         *ngFor="let question of myForm.controls['questions'].controls; let i = index">
             <mat-form-field class="example-full-width">
              <input type="text"
              matInput
              placeholder="Add new question" 
              formControlName="{{i}}">
            </mat-form-field>
            
            <mat-icon (click)=onremoveQuestion(i) *ngIf="i > 0">delete</mat-icon>
            
            <mat-icon (click)="onAddQuestion()">add</mat-icon>
            <div>
              <p>every question has this answers just for test </p>
              <ul>
                <li>
                  Answer1
                </li>
                <li>
                    Answer2
                  </li>
                  <li>
                      Answer3
                    </li>
                    <li>
                        Answer4
                      </li>
              </ul>
            </div>
    </div>

    
  </div>

   <button type="submit" mat-raised-button color="primary" [disabled]="!myForm.valid">Submit</button>

   <mat-card *ngIf="success" style="top:60%; position:inherit ;color:white ; background-color: rgb(83, 192, 97)">
      <span>Survery added successfully !</span>
     </mat-card>
  </form>
